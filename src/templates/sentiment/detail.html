{% extends 'base.html' %}
{% load static %}

{% block title %}Vitali Mueller | Sentiment Analysis: {{object.title}}{% endblock title %}
{% block content %}
<style>

.divider {
	
	padding-top: 60px !important;
	
	}	
	
</style>

<div class="container">
<div class="row">
	<div class="col-sm-12 text-center">
			<h1><strong><u>Sentiment Analysis</u></strong></h1>
			<br/><br/>
	</div>
	<div class="col-sm-2 text-center">
		<h2><strong>Options</strong></h2>
		<hr/>
		<br/>
		<a href="{% url 'sent_list' %}"><img src="{% static 'vitali/images/portfolio/5.jpg' %}" />
		<a href="{{ object.get_absolute_url }}delete/"><img src="{% static 'vitali/images/portfolio/del.jpg' %}" />
		<a href="{{ object.get_absolute_url }}update/"><img src="{% static 'vitali/images/portfolio/update.jpg' %}" />
	</div>
	<div class="col-sm-7 text-center">
		<h2><strong>Top 5 Frequent used Words</strong></h2>
		<hr/>
		<br/>
		<div id="hc_container" style="width:100%; height:400px;"></div>
	</div>
	<div class="col-sm-3 text-center">
		<h2><strong>Chose another Chart</strong></h2>
		<hr/>
		<br/>

		<a href='#' class='change_type' id='pie'><img src="{% static 'vitali/images/portfolio/pie.jpg' %}" /></a>
		<a href='#' class='change_type' id='column'><img src="{% static 'vitali/images/portfolio/bar.jpg' %}" /></a>
		<a href='#' class='change_type' id='line'><img src="{% static 'vitali/images/portfolio/line.jpg' %}" /></a>
	</div>


	
	<div class="row">
        <div class="col-lg-4 text-center divider">
          <a href="{% url 'sent_create' %}"><img src="{% static 'vitali/images/portfolio/back.jpg' %}" /></a>
        </div>
        <div class="col-lg-4 text-center divider">
          <a href="#details"><img src="{% static 'vitali/images/portfolio/details.jpg' %}" /></a>
       </div>
        
    </div>
</div>


	<br/><br/><br/>
    <div class="row">
        <div class="col-md-12 text-center">
             <h1> {{object.title}}</h1>
			 <hr/>
			  <br/>
        </div>
       <div class="col-md-12">
        <p class="lead">{{object.content}}</p>
       </div>
    </div>
</div>



<div class='container' id="details">
	<br/><br/>
  <div class="row">
		
		<div class="col-sm-9 text-center">
		<h2><strong>More Details...</strong></h2>
		<hr/>
		<br/>
		<div id="hc_container2" style="width:100%; height:400px;"></div>
	</div>
	<div class="col-sm-3 text-center">
		<h2><strong>Chose another Chart</strong></h2>
		<hr/>
		<br/>

		<a href='#' class='change_type2' id='pie'><img src="{% static 'vitali/images/portfolio/pie.jpg' %}" /></a>
		<a href='#' class='change_type2' id='bar'><img src="{% static 'vitali/images/portfolio/bar.jpg' %}" /></a>
		<a href='#' class='change_type2' id='line'><img src="{% static 'vitali/images/portfolio/line.jpg' %}" /></a>
	</div>
  </div>
  <br/><br/>
</div>

<div class='container'>
	<br/><br/>
  <div class="row">

		<div class="col-sm-9 text-center">
		<h2><strong>Top Frequent used Words without Stop Words:</strong></h2>
		<hr/>
		<br/>
		<div id="hc_container3" style="width:100%; height:400px;"></div>
	</div>
	<div class="col-sm-3 text-center">
		<h2><strong>Chose another Chart</strong></h2>
		<hr/>
		<br/>

		<a href='#' class='change_type3' id='pie'><img src="{% static 'vitali/images/portfolio/pie.jpg' %}" /></a>
		<a href='#' class='change_type3' id='column'><img src="{% static 'vitali/images/portfolio/bar.jpg' %}" /></a>
		<a href='#' class='change_type3' id='line'><img src="{% static 'vitali/images/portfolio/line.jpg' %}" /></a>
	</div>
  </div>
  <br/><br/>
  <div class="row">
	
	
	
	
	
		<h1 class="lead divider"><strong>Sentiment Rating System</strong></h1>
		<hr/>
		  <br/>
		  <p class="lead">This Table shows the rating system of the Sentiment Analysis Algorithm. The Confidence of the Result is the average of all Algorithms.</p>                                                                                      
		  <br/>
		  <hr/>
		  <br/>
		  <div class="table-responsive">          
		  <table class="table lead">
			<thead>
			  <tr>
				<th class="text-center">#</th>
				<th class="text-center">Rating</th>
				<th class="text-center">Results</th>
				
			  </tr>
			</thead>
			<tbody class="text-center">
			  <tr>
				<td>1</td>
				<td style="color: #4a8832"><strong>5 Star Rating</strong></td>
				<td><img src="{% static 'vitali/images/portfolio/5star.jpg' %}" /></td>
				
			  </tr>
			  <tr>
				<td>2</td>
				<td style="color: #328885"><strong>4 Star Rating</strong></td>
				<td><img src="{% static 'vitali/images/portfolio/4star.jpg' %}" /></td>
				
			  </tr>
			  <tr>
				<td>5</td>
				<td style="color: #eeb61f"><strong>1 Star Rating</strong></td>
				<td><img src="{% static 'vitali/images/portfolio/1star.jpg' %}" /></td>
				
			  </tr>
			    <tr>
				<td>6</td>
				<td style="color: #ee1f1f"><strong>0 Star Rating</strong></td>
				<td><img src="{% static 'vitali/images/portfolio/0star.jpg' %}" /></td>
				
			  </tr>
			</tbody>
		  </table>
		  	  
  </div>

	<div class="row">
		<br/><br/><br/><br/>
			<div class="col-sm-12 text-center">
				<h1><strong>Machine Learning Results</strong></h1>
				<hr/>
				<br/>
				
			</div>
			<div class="col-md-4">
				
				<h2><strong>Naive Bayes</strong></h2>
				{% if naive == 'pos' %}
				<img class="img-responsive text-center" src="{% static 'vitali/images/portfolio/pos.jpg' %}" />
				{% else %}
				<img class="img-responsive text-center" src="{% static 'vitali/images/portfolio/neg.jpg' %}" />
				{%endif%}
			</div>
			
			<div class="col-md-4">
				<h2><strong>Bayes Multinomial NB</strong></h2>
				{% if mnb == 'pos' %}
				<img class="img-responsive text_center" src="{% static 'vitali/images/portfolio/pos.jpg' %}" />
				{% else %}
				<img class="img-responsive text_center" src="{% static 'vitali/images/portfolio/neg.jpg' %}" />
				{% endif %}
			</div>
			
			<div class="col-md-4">
				<h2><strong>Bernoulli NB</strong></h2>
				{% if bernoulli == 'pos' %}
				<img class="img-responsive" src="{% static 'vitali/images/portfolio/pos.jpg' %}" />
				{% else %}
				<img class="img-responsive" src="{% static 'vitali/images/portfolio/neg.jpg' %}" />
				{% endif %}
			</div>
			
	</div>
	
		<div class="row divider">			
		
			<div class="col-md-6 text-center">
				<h2><strong>Average Confidence:</strong></h2>
				<hr/>
				<br/>
				{% if totalCat == 'pos' %}
				<img class="img-responsive text-center" src="{% static 'vitali/images/portfolio/positive.jpg' %}" />
				{% else %}
				<img class="img-responsive text-center" src="{% static 'vitali/images/portfolio/negative.jpg' %}" />
				{% endif %}
				<br/>
			</div>
			
			<div class="col-md-6 text-center">
				<h2><strong>Average Category:</strong></h2>
				<hr/>
				<br/>
				{% if totalCat == 'pos' and confidence == 100 %}
				<img class="img-responsive text_center" src="{% static 'vitali/images/portfolio/5starresult.jpg' %}" />
				{% elif totalCat == 'pos' and confidence == 66 %}
				<img class="img-responsive text_center" src="{% static 'vitali/images/portfolio/4starresult.jpg' %}" />
				{% elif totalCat == 'neg' and confidence == 100 %}
				<img class="img-responsive text_center" src="{% static 'vitali/images/portfolio/0starresult.jpg' %}" />
				{% elif totalCat == 'neg' and confidence == 66 %}
				<img class="img-responsive text_center" src="{% static 'vitali/images/portfolio/1starresult.jpg' %}" />
				{% endif %}
				<br/>
				
			</div>		
		</div>
		
		<div class="row divider">
			<div class="col-md-4">
				<div class="table-responsive">          
					<table class="table lead">
						<thead>
						<tr>
						  <th>#</th>
						  <th>Poitive Words Used</th>
						</tr>
					  </thead>
						
					  <tbody>
						{% for words in positiveList %}						  
						<tr>
						<td>{{forloop.counter}}</td>	
						  <td>{{words}}</td>
						</tr>
						{% endfor %}
					  </tbody>
					</table>	
				</div>
			</div>
			<div class="col-md-4">
				<div class="table-responsive">          
					<table class="table lead">
						<thead>
						<tr>
						  <th>#</th>
						  <th>Negative Words Used</th>
						</tr>
					  </thead>
						
					  <tbody>
						{% for words in negativeList %}						  
						<tr>
						<td>{{forloop.counter}}</td>	
						  <td>{{words}}</td>
						</tr>
						{% endfor %}
					  </tbody>
					</table>	
				</div>
			</div>
			<div class="col-md-4">
				<div class="table-responsive">          
					<table class="table lead">
						<thead>
						<tr>
						  <th>#</th>
						  <th>Swearing Words Used</th>
						</tr>
					  </thead>
						
					  <tbody>
						{% for words in swearingList %}						  
						<tr>
						<td>{{forloop.counter}}</td>	
						  <td>{{words}}</td>
						</tr>
						{% endfor %}
					  </tbody>
					</table>	
				</div>
			</div>
		</div>
  

  <div class="container divider" style="padding-bottom: 60px !important;">
		<div class="row">
			<div class="col-sm-9 text-center">
				<h2><strong>Statistics: Positive-, Negative-, Swearing Visualisation </strong></h2>
				<hr/>
				<br/>
				<div id="hc_container4" style="width:100%; height:400px;"></div>
			</div>
			<div class="col-sm-3 text-center">
				<h2><strong>Chose another Chart</strong></h2>
				<hr/>
				<br/>
				<a href='#' class='change_type4' id='pie'><img src="{% static 'vitali/images/portfolio/pie.jpg' %}" /></a>
				<a href='#' class='change_type4' id='column'><img src="{% static 'vitali/images/portfolio/bar.jpg' %}" /></a>
				<a href='#' class='change_type4' id='line'><img src="{% static 'vitali/images/portfolio/line.jpg' %}" /></a>
			</div>
	  </div>
  </div>
  
  
  <hr/>
 <div class="container divider" style="padding-bottom: 100px !important;"> 
		<div class="row">
			<div class="col-md-4">
				<h2>CREATE NEW</h2>
				<a href="{% url 'sent_create' %}"><img src="{% static 'vitali/images/portfolio/back.jpg' %}" /></a>

			</div>
			<div class="col-md-4 text-center">
				<h2>DELETE</h2>
				<a href="{{ object.get_absolute_url }}delete/"><img src="{% static 'vitali/images/portfolio/del.jpg' %}" />
			</div>
			<div class="col-md-4 text-center">
				<h2>UPDATE</h2>
				<a href="{{ object.get_absolute_url }}update/"><img src="{% static 'vitali/images/portfolio/update.jpg' %}" />
			</div>
		</div>
 </div>


</div>

{% endblock content %}

{% block javascript %}

<script src="https://code.jquery.com/jquery-1.10.2.js"></script>
<script src="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
<script src="http://code.highcharts.com/highcharts.js"></script>

<script>
$(document).ready(function(){

	function changeType(chart, series, newType) {
		newType = newType.toLowerCase();
		for (var i = 0; i < series.length; i++ ) {
			series = series[0];
			try {
				series.chart.addSeries({
					type: newType,
					stack: series.stack,
					yaxis: series.yaxis,
					name: series.name,
					color: series.color,
					data: series.options.data
				},
				false
				)
				series.remove();
			} catch(e) {
				alert(newType & ": " & e);
			}
		}

	};

$(function () { 
    $('#hc_container').highcharts({
        title: {
            text: '{{object.title}}'
        },
        xAxis: {
            categories: ['{{word1}}', '{{word2}}', '{{word3}}', '{{word4}}', '{{word5}}'],
           showEmpty: false
        },
        yAxis: {
            showEmpty: false
        },
        series: [{
        	type: 'pie',
        	allowPointSelect: true,
        	data: [
        	['{{word1}}', {{num1}}],
        	['{{word2}}', {{num2}}],
        	['{{word3}}', {{num3}}],
        	['{{word4}}', {{num4}}],
        	['{{word5}}', {{num5}}],
        	],
        	showInLegend: true
        }]
    });
});



$('.change_type').click(function(e) {
	e.preventDefault();
	chartType = $(this).attr('id');
    var chart = $("#hc_container").highcharts();
	changeType(chart, chart.series, chartType)
	});
});

</script>




<script>
$(document).ready(function(){

	function changeType(chart, series, newType) {
		newType = newType.toLowerCase();
		for (var i = 0; i < series.length; i++ ) {
			series = series[0];
			try {
				series.chart.addSeries({
					type: newType,
					stack: series.stack,
					yaxis: series.yaxis,
					name: series.name,
					color: series.color,
					data: series.options.data
				},
				false
				)
				series.remove();
			} catch(e) {
				alert(newType & ": " & e);
			}
		}

	};

$(function () { 
    $('#hc_container2').highcharts({
        title: {
            text: '{{object.title}}'
        },
        xAxis: {
            categories: ['Stop Words', 'Total Words', 'Average Words in Sentence', 'Total Sentences', 'Ratio Total Words / Stop Words'],
           showEmpty: false
        },
        yAxis: {
            showEmpty: false
        },
        series: [{
        	type: 'bar',
        	allowPointSelect: true,
        	data: [
        	['Stop Words', {{stopWords}}],
        	['Total Words', {{totalWords}}],
        	['Average Words in Sentence', {{averageWPS}}],
        	['Total Sentences', {{totalSentences}}],
        	['Ratio Total Words / Stop Words', {{ratioWS}}],
        	],
        	showInLegend: true
        }]
    });
});



$('.change_type2').click(function(e) {
	e.preventDefault();
	chartType = $(this).attr('id');
    var chart = $("#hc_container2").highcharts();
	changeType(chart, chart.series, chartType)
	});
});

</script>



<script>
$(document).ready(function(){

	function changeType(chart, series, newType) {
		newType = newType.toLowerCase();
		for (var i = 0; i < series.length; i++ ) {
			series = series[0];
			try {
				series.chart.addSeries({
					type: newType,
					stack: series.stack,
					yaxis: series.yaxis,
					name: series.name,
					color: series.color,
					data: series.options.data
				},
				false
				)
				series.remove();
			} catch(e) {
				alert(newType & ": " & e);
			}
		}

	};

$(function () { 
    $('#hc_container3').highcharts({
        title: {
            text: '{{object.title}}'
        },
        xAxis: {
            categories: ['{{wC1}}', '{{wC2}}', '{{wC3}}', '{{wC4}}', '{{wC5}}'],
           showEmpty: false
        },
        yAxis: {
            showEmpty: false
        },
        series: [{
        	type: 'pie',
        	allowPointSelect: true,
        	data: [
        	['{{wC1}}', {{nC1}}],
        	['{{wC2}}', {{nC2}}],
        	['{{wC3}}', {{nC3}}],
        	['{{wC4}}', {{nC4}}],
        	['{{wC5}}', {{nC5}}],
        	],
        	showInLegend: true
        }]
    });
});



$('.change_type3').click(function(e) {
	e.preventDefault();
	chartType = $(this).attr('id');
    var chart = $("#hc_container3").highcharts();
	changeType(chart, chart.series, chartType)
	});
});

</script>

<script>
$(document).ready(function(){

	function changeType(chart, series, newType) {
		newType = newType.toLowerCase();
		for (var i = 0; i < series.length; i++ ) {
			series = series[0];
			try {
				series.chart.addSeries({
					type: newType,
					stack: series.stack,
					yaxis: series.yaxis,
					name: series.name,
					color: series.color,
					data: series.options.data
				},
				false
				)
				series.remove();
			} catch(e) {
				alert(newType & ": " & e);
			}
		}

	};

$(function () { 
    $('#hc_container4').highcharts({
        title: {
            text: '{{object.title}}'
        },
        xAxis: {
            categories: ['#Positive Words', '#Negative Words', '#Swearing Words', '#Ratio Total Words/Positive', '#Ratio Total Words/Negative'],
           showEmpty: false
        },
        yAxis: {
            showEmpty: false
        },
        series: [{
        	type: 'pie',
        	allowPointSelect: true,
        	data: [
        	['#Positive Words', {{poCo}}],
        	['#Negative Words', {{neCo}}],
        	['#Swearing Words', {{swCo}}],
        	['#Ratio Total Words/Positive', {{rtwp}}],
        	['#Ratio Total Words/Negative', {{rtwn}}],
        	],
        	showInLegend: true
        }]
    });
});



$('.change_type4').click(function(e) {
	e.preventDefault();
	chartType = $(this).attr('id');
    var chart = $("#hc_container4").highcharts();
	changeType(chart, chart.series, chartType)
	});
});

</script>



{% endblock javascript %}